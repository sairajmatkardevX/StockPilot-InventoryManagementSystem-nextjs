(()=>{var e={};e.id=342,e.ids=[342],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},52862:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),r(22016),r(22834),r(92437),r(35866);var n=r(23191),a=r(88716),i=r(37922),o=r.n(i),l=r(95231),s={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);r.d(t,s);let c=["",{children:["dashboard",{children:["expenses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22016)),"C:\\Users\\matka\\OneDrive\\Desktop\\StockPilot-InventoryManagementSystem\\client\\src\\app\\dashboard\\expenses\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22834)),"C:\\Users\\matka\\OneDrive\\Desktop\\StockPilot-InventoryManagementSystem\\client\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,92437)),"C:\\Users\\matka\\OneDrive\\Desktop\\StockPilot-InventoryManagementSystem\\client\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\matka\\OneDrive\\Desktop\\StockPilot-InventoryManagementSystem\\client\\src\\app\\dashboard\\expenses\\page.tsx"],d="/dashboard/expenses/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/expenses/page",pathname:"/dashboard/expenses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},89712:(e,t,r)=>{Promise.resolve().then(r.bind(r,16535))},16535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var n=r(10326),a=r(17577),i=r(77109),o=r(30660),l=r(14141),s=r(97651),c=r(99630),u=r(89495),d=r(60962),p=r(62607),m=r(41135),f=r(671),h=r(19884),g=r(50522);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends a.PureComponent{renderIcon(e,t){var{inactiveColor:r}=this.props,n=32/6,i=32/3,o=e.inactive?r:e.color,l=null!=t?t:e.type;if("none"===l)return null;if("plainline"===l)return a.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===l)return a.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(16,"h").concat(i,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*i,",").concat(16,"\n            H").concat(32,"M").concat(2*i,",").concat(16,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(i,",").concat(16),className:"recharts-legend-icon"});if("rect"===l)return a.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(a.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete s.legendIcon,a.cloneElement(e.legendIcon,s)}return a.createElement(h.v,{fill:o,cx:16,cy:16,size:32,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:t,layout:r,formatter:n,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:32,height:32},s={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||n,d=(0,m.W)({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var p=e.inactive?i:e.color,h=u?u(e.value,e,r):e.value;return a.createElement("li",b({className:d,style:s,key:"legend-item-".concat(r)},(0,g.bw)(this.props,e,r)),a.createElement(f.T,{width:t,height:t,viewBox:l,style:c,"aria-label":"".concat(h," legend icon")},this.renderIcon(e,o)),a.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},h))})}render(){var{payload:e,layout:t,align:r}=this.props;return e&&e.length?a.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===t?r:"left"}},this.renderItems()):null}}v(x,"displayName","Legend"),v(x,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var j=r(2645),O=r(23819),P=r(11832),w=r(22466),S=r(9876),k=r(24477),E=["contextPayload"];function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){return e.value}function _(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,E),n=(0,O.z)(t,e.payloadUniqBy,M),i=A(A({},r),{},{payload:n});return a.isValidElement(e.content)?a.cloneElement(e.content,i):"function"==typeof e.content?a.createElement(e.content,i):a.createElement(x,i)}function I(e){return(0,P.T)(),null}function z(e){return(0,P.T)(),null}function q(e){var t=(0,P.C)(w.E$),r=(0,p.l)(),n=(0,k.h)(),{width:i,height:o,wrapperStyle:l,portal:s}=e,[c,u]=(0,S.B)([t]),m=(0,k.zn)(),f=(0,k.Mw)(),h=m-(n.left||0)-(n.right||0),g=T.getWidthOrHeight(e.layout,o,i,h),b=s?l:A(A({position:"absolute",width:(null==g?void 0:g.width)||i||"auto",height:(null==g?void 0:g.height)||o||"auto"},function(e,t,r,n,a,i){var o,l,{layout:s,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===s?{left:((n||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(l="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),A(A({},o),l)}(l,e,n,m,f,c)),l),y=null!=s?s:r;if(null==y)return null;var v=a.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:u},a.createElement(I,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),a.createElement(z,{width:c.width,height:c.height}),a.createElement(_,N({},e,g,{margin:n,chartWidth:m,chartHeight:f,contextPayload:t})));return(0,d.createPortal)(v,y)}class T extends a.PureComponent{static getWidthOrHeight(e,t,r,n){return"vertical"===e&&(0,j.hj)(t)?{height:t}:"horizontal"===e?{width:r||n}:null}render(){return a.createElement(q,this.props)}}C(T,"displayName","Legend"),C(T,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var G=r(54886);let U={Salaries:"#1f77b4",Office:"#ff7f0e",Professional:"#2ca02c",Utilities:"#d62728",Others:"#9467bd"},W=e=>U[e]||"#8c564b";function R(){let{data:e,status:t}=(0,i.useSession)(),r=(0,G.CG)(e=>e.global.isDarkMode),[d,p]=(0,a.useState)([]),[m,f]=(0,a.useState)(["All"]),[h,g]=(0,a.useState)("All"),[b,y]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[j,O]=(0,a.useState)(""),[P,w]=(0,a.useState)(""),[S,k]=(0,a.useState)(""),[E,N]=(0,a.useState)(""),[D,A]=(0,a.useState)(!0),[C,M]=(0,a.useState)(!0),_=(0,a.useMemo)(()=>d.filter(e=>{let t=e.timestamp.split("T")[0];return(!j||!(t<j))&&(!P||!(t>P))&&("All"===h||e.category===h)}),[d,h,j,P]),I=(0,a.useMemo)(()=>{let e={};return _.forEach(t=>{e[t.category]=(e[t.category]||0)+t.amount}),Object.entries(e).map(([e,t])=>({name:e,value:t}))},[_]);return"loading"===t||C?n.jsx("div",{className:"flex items-center justify-center py-20 text-gray-500",children:"Loading..."}):(0,n.jsxs)("div",{className:"p-6 flex flex-col gap-6",children:[n.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Expenses Dashboard"})}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-4 items-end",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[n.jsx("label",{className:"mb-1 font-medium",children:"Category"}),n.jsx("select",{className:"border rounded-lg px-3 py-2 w-40 focus:outline-none focus:ring-2 focus:ring-blue-400",value:h||"All",onChange:e=>g(e.target.value),children:m.map(e=>n.jsx("option",{value:e,children:e},e))})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[n.jsx("label",{className:"mb-1 font-medium",children:"Start Date"}),n.jsx("input",{type:"date",className:"border rounded-lg px-3 py-2 w-40 focus:outline-none focus:ring-2 focus:ring-blue-400",value:b||"",min:S||"",max:E||"",onChange:e=>y(e.target.value)})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[n.jsx("label",{className:"mb-1 font-medium",children:"End Date"}),n.jsx("input",{type:"date",className:"border rounded-lg px-3 py-2 w-40 focus:outline-none focus:ring-2 focus:ring-blue-400",value:v||"",min:S||"",max:E||"",onChange:e=>x(e.target.value)})]}),n.jsx("button",{className:`px-4 py-2 rounded-lg font-semibold transition ${D?"bg-green-300 text-white cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:D,onClick:()=>{O(b),w(v),A(!0)},children:"Apply"}),n.jsx("button",{className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-semibold transition",onClick:()=>{g("All"),y(S),x(E),O(S),w(E),A(!0)},children:"Reset"})]}),I.length>0?n.jsx("div",{className:`rounded-lg shadow p-4 ${r?"bg-gray-800":"bg-white"}`,children:n.jsx(o.h,{width:"100%",height:350,children:(0,n.jsxs)(l.u,{children:[n.jsx(s.b,{data:I,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:120,label:!0,children:I.map(e=>n.jsx(c.b,{fill:W(e.name)},e.name))}),n.jsx(u.u,{formatter:(e,t)=>[`$${e.toLocaleString()}`,t]}),n.jsx(T,{})]})})}):n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No expenses found for selected filters."})]})}},22016:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(68570).createProxy)(String.raw`C:\Users\matka\OneDrive\Desktop\StockPilot-InventoryManagementSystem\client\src\app\dashboard\expenses\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,827,339,881,709,300],()=>r(52862));module.exports=n})();